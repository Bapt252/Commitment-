<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexten - Questionnaire Recrutement</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="../static/styles/nexten-modern-interactive.css">
    <link rel="stylesheet" href="../static/css/job-parser-styles.css">
    <link rel="stylesheet" href="../static/css/client-questionnaire.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Style supplémentaire pour les améliorations -->
    <style>
        :root {
            --primary: #7C3AED;
            --primary-dark: #5B21B6;
            --primary-light: #A78BFA;
            --primary-glass: rgba(124, 58, 237, 0.1);
            --success: #43AA8B;
            --error: #E63946;
            --warning: #F59E0B;
            --gray-dark: #495057;
            --gray: #6C757D;
            --gray-light: #CED4DA;
            --gray-lightest: #F8F9FA;
            --border-radius: 8px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }
        
        body {
            background-color: #F9FAFB;
            color: #111827;
        }
        
        .container {
            max-width: 1024px;
            padding: 1.5rem;
        }
        
        .header {
            text-align: center;
            margin-bottom: 2rem;
            padding-top: 2rem;
        }
        
        .header h1 {
            position: relative;
            display: inline-block;
            margin-bottom: 0.75rem;
            font-weight: 500;
        }
        
        .subtitle {
            color: var(--gray);
            font-weight: 400;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Étapes de progression améliorées */
        .progress-container {
            margin: 3rem 0;
            position: relative;
        }
        
        .progress-bar {
            position: absolute;
            width: 100%;
            height: 4px;
            background-color: var(--gray-light);
            top: 22px;
            z-index: 1;
            border-radius: 2px;
        }
        
        .progress-bar-fill {
            position: absolute;
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, var(--primary-light) 100%);
            transition: width 0.5s ease;
            border-radius: 2px;
        }
        
        .progress-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            z-index: 2;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            cursor: pointer;
        }
        
        .step-bubble {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: white;
            border: 2px solid var(--gray-light);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--gray);
            position: relative;
            transition: var(--transition);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .step.active .step-bubble {
            background-color: var(--primary);
            border-color: var(--primary);
            color: white;
            box-shadow: 0 4px 10px rgba(124, 58, 237, 0.3);
        }
        
        .step.completed .step-bubble {
            background-color: var(--success);
            border-color: var(--success);
            color: white;
        }
        
        .step.completed .step-bubble::after {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
        }
        
        .step.completed .step-bubble span {
            display: none;
        }
        
        .step-label {
            font-size: 0.875rem;
            color: var(--gray);
            font-weight: 500;
            transition: var(--transition);
            text-align: center;
            width: 100%;
        }
        
        .step.active .step-label {
            color: var(--primary);
        }
        
        .step.completed .step-label {
            color: var(--success);
        }
        
        /* Formulaire amélioré */
        .form-section {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 2rem;
            margin-bottom: 2rem;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .form-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .form-section h2 {
            font-size: 1.75rem;
            margin-bottom: 1rem;
            color: #111827;
            font-weight: 600;
        }
        
        .form-section p {
            color: var(--gray);
            margin-bottom: 1.5rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--gray-dark);
        }
        
        .form-label.required::after {
            content: " *";
            color: var(--error);
        }
        
        .form-control {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid var(--gray-light);
            border-radius: var(--border-radius);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            background-color: white;
            transition: var(--transition);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2);
        }
        
        .form-control::placeholder {
            color: #9CA3AF;
        }
        
        .form-hint {
            font-size: 0.875rem;
            color: var(--gray);
            margin-top: 0.5rem;
        }
        
        .form-row {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .form-col {
            flex: 1;
            min-width: 0; /* Pour éviter le débordement */
        }
        
        /* Formulaire d'upload amélioré */
        .upload-container {
            background-color: white;
            border: 2px dashed var(--gray-light);
            border-radius: var(--border-radius);
            padding: 2rem;
            text-align: center;
            transition: var(--transition);
            margin-bottom: 1.5rem;
            position: relative;
        }
        
        .upload-container:hover, .upload-container.drag-active {
            border-color: var(--primary);
            background-color: var(--primary-glass);
        }
        
        .upload-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .upload-text {
            font-size: 1rem;
            color: var(--gray-dark);
            margin-bottom: 1rem;
        }
        
        .upload-hint {
            font-size: 0.875rem;
            color: var(--gray);
        }
        
        .file-input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }
        
        .separator {
            display: flex;
            align-items: center;
            margin: 1.5rem 0;
            color: var(--gray);
            font-weight: 500;
        }
        
        .separator .line {
            flex: 1;
            height: 1px;
            background-color: var(--gray-light);
        }
        
        .separator .text {
            padding: 0 1rem;
        }
        
        /* Textarea amélioré */
        .textarea-container {
            position: relative;
        }
        
        textarea.form-control {
            min-height: 120px;
            resize: vertical;
            padding-right: 3rem;
        }
        
        .analyze-button {
            position: absolute;
            bottom: 0.75rem;
            right: 0.75rem;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(124, 58, 237, 0.3);
        }
        
        .analyze-button:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(124, 58, 237, 0.4);
        }
        
        /* File badge amélioré */
        .file-badge {
            display: inline-flex;
            align-items: center;
            background-color: var(--primary-glass);
            border: 1px solid var(--primary-light);
            border-radius: var(--border-radius);
            padding: 0.75rem 1rem;
            margin-top: 1rem;
            font-size: 0.95rem;
            transition: var(--transition);
        }
        
        .file-badge i {
            margin-right: 0.75rem;
            color: var(--primary);
            font-size: 1.25rem;
        }
        
        .file-badge .file-name {
            margin-right: 0.75rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 250px;
        }
        
        .remove-button {
            color: var(--gray);
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: 50%;
            transition: var(--transition);
        }
        
        .remove-button:hover {
            color: var(--error);
            background-color: rgba(230, 57, 70, 0.1);
        }
        
        /* Loader amélioré */
        .loader-container {
            display: none;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            flex-direction: column;
        }
        
        .loader {
            border: 3px solid rgba(124, 58, 237, 0.1);
            border-radius: 50%;
            border-top: 3px solid var(--primary);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }
        
        .loader-text {
            color: var(--gray-dark);
            font-weight: 500;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Job info container amélioré */
        .job-info-container {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--box-shadow);
            margin-top: 2rem;
        }
        
        .job-info-container h3 {
            color: var(--gray-dark);
            margin-bottom: 1.5rem;
            font-weight: 600;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
        }
        
        .job-info-container h3 i {
            color: var(--success);
            margin-right: 0.75rem;
            font-size: 1.5rem;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .info-group {
            margin-bottom: 1.5rem;
        }
        
        .info-label {
            font-weight: 500;
            color: var(--gray-dark);
            margin-bottom: 0.5rem;
            display: block;
        }
        
        .info-value {
            background-color: var(--gray-lightest);
            padding: 0.75rem 1rem;
            border-radius: var(--border-radius);
            color: var(--gray-dark);
            border-left: 3px solid var(--primary-light);
        }
        
        .full-width {
            grid-column: 1 / -1;
        }
        
        .job-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 1.5rem;
        }
        
        /* Boutons améliorés */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius);
            font-weight: 500;
            transition: var(--transition);
            cursor: pointer;
            font-size: 0.95rem;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
            border: none;
            box-shadow: 0 4px 10px rgba(124, 58, 237, 0.3);
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(124, 58, 237, 0.4);
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--gray-dark);
            border: 1px solid var(--gray-light);
        }
        
        .btn-outline:hover {
            border-color: var(--primary);
            color: var(--primary);
            background-color: var(--primary-glass);
        }
        
        .btn-icon {
            padding: 0.75rem;
            border-radius: 50%;
        }
        
        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--gray-light);
        }
        
        /* Input checkboxes et radios améliorés */
        .radio-group, .checkbox-group {
            display: flex;
            gap: 1.25rem;
            flex-wrap: wrap;
        }
        
        .radio-label, .checkbox-label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            padding: 0.5rem 0;
            color: var(--gray-dark);
            transition: var(--transition);
        }
        
        .radio-label:hover, .checkbox-label:hover {
            color: var(--primary);
        }
        
        /* Tags input amélioré */
        .tags-input {
            position: relative;
        }
        
        .tags-input input {
            padding-right: 2.5rem;
        }
        
        .add-tag-btn {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
            background: none;
            border: none;
            cursor: pointer;
            opacity: 0.7;
            transition: var(--transition);
        }
        
        .add-tag-btn:hover {
            opacity: 1;
        }
        
        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .tag {
            display: inline-flex;
            align-items: center;
            background-color: var(--primary-glass);
            color: var(--primary-dark);
            border-radius: 16px;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            transition: var(--transition);
        }
        
        .tag:hover {
            background-color: rgba(124, 58, 237, 0.2);
        }
        
        .tag i {
            margin-left: 0.5rem;
            cursor: pointer;
            font-size: 0.75rem;
            opacity: 0.7;
        }
        
        .tag i:hover {
            opacity: 1;
            color: var(--error);
        }
        
        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
            margin-left: 0.5rem;
            color: var(--gray);
            cursor: help;
        }
        
        .tooltip i {
            font-size: 0.875rem;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            width: 250px;
            background-color: var(--gray-dark);
            color: white;
            text-align: center;
            border-radius: var(--border-radius);
            padding: 0.75rem;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -125px;
            opacity: 0;
            transition: opacity 0.3s;
            font-weight: normal;
            font-size: 0.875rem;
            box-shadow: var(--box-shadow);
            pointer-events: none;
        }
        
        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--gray-dark) transparent transparent transparent;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        /* Notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 1rem 1.25rem;
            border-radius: var(--border-radius);
            background-color: white;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 1rem;
            transform: translateY(100px);
            opacity: 0;
            transition: var(--transition);
            z-index: 1000;
            max-width: 400px;
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notification.success {
            border-left: 4px solid var(--success);
        }
        
        .notification.success i {
            color: var(--success);
        }
        
        .notification.error {
            border-left: 4px solid var(--error);
        }
        
        .notification.error i {
            color: var(--error);
        }
        
        .notification.info {
            border-left: 4px solid var(--primary);
        }
        
        .notification.info i {
            color: var(--primary);
        }
        
        .notification-icon {
            font-size: 1.5rem;
        }
        
        .notification-content {
            flex: 1;
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: var(--gray-dark);
        }
        
        .notification-message {
            color: var(--gray);
            font-size: 0.875rem;
        }
        
        .notification-close {
            color: var(--gray);
            cursor: pointer;
            padding: 0.25rem;
            font-size: 0.875rem;
            transition: var(--transition);
        }
        
        .notification-close:hover {
            color: var(--error);
        }
        
        /* Confirmation section */
        .confirmation-section {
            text-align: center;
            padding: 3rem 2rem;
        }
        
        .confirmation-icon {
            font-size: 4rem;
            color: var(--success);
            margin-bottom: 1.5rem;
            animation: bounce 1s ease;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-30px);}
            60% {transform: translateY(-15px);}
        }
        
        .confirmation-title {
            font-size: 1.75rem;
            margin-bottom: 1rem;
            color: var(--gray-dark);
            font-weight: 600;
        }
        
        .confirmation-message {
            color: var(--gray);
            margin-bottom: 1.5rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .confirmation-email {
            font-weight: 500;
            color: var(--primary);
        }
        
        .next-steps {
            margin-top: 2rem;
            background-color: var(--primary-glass);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            border-left: 4px solid var(--primary);
        }
        
        .next-steps-title {
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--gray-dark);
        }
        
        .next-steps-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            justify-content: center;
        }
        
        /* Conditional sections */
        .conditional-section {
            padding: 1rem;
            margin-top: 1rem;
            border-radius: var(--border-radius);
            border: 1px solid var(--gray-light);
            background-color: var(--gray-lightest);
            display: none;
        }
        
        .conditional-section.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        /* Toast pour la génération automatique */
        .generated-toast {
            background-color: var(--primary-glass);
            border-left: 3px solid var(--primary);
            padding: 1rem;
            margin-top: 1rem;
            border-radius: var(--border-radius);
            display: none;
        }
        
        .generated-toast.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .form-section {
                padding: 1.5rem;
            }
            
            .progress-container {
                margin: 2rem 0;
            }
            
            .step-label {
                display: none;
            }
            
            .step-bubble {
                width: 40px;
                height: 40px;
                font-size: 0.875rem;
            }
            
            .progress-bar {
                top: 18px;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                flex-direction: column;
                gap: 1rem;
            }
            
            .form-navigation {
                flex-direction: column-reverse;
                gap: 1rem;
            }
            
            .form-navigation .btn {
                width: 100%;
            }
            
            .file-badge .file-name {
                max-width: 150px;
            }
            
            .next-steps-actions {
                flex-direction: column;
            }
        }
        
        /* Améliorations de l'accessibilité */
        .progress-steps .step:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
            border-radius: 50%;
        }
        
        .form-control:focus-visible, 
        .btn:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }
        
        /* Smooth scroll */
        html {
            scroll-behavior: smooth;
        }
        
        /* Animations */
        @keyframes shake {
            0%, 100% {transform: translateX(0);}
            10%, 30%, 50%, 70%, 90% {transform: translateX(-5px);}
            20%, 40%, 60%, 80% {transform: translateX(5px);}
        }
        
        .shake {
            animation: shake 0.5s ease;
        }
        
        /* Helper pour éviter les répétitions */
        .mt-1 { margin-top: 0.25rem; }
        .mt-2 { margin-top: 0.5rem; }
        .mt-3 { margin-top: 1rem; }
        .mt-4 { margin-top: 1.5rem; }
        .mt-5 { margin-top: 2rem; }
        
        .mb-1 { margin-bottom: 0.25rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-3 { margin-bottom: 1rem; }
        .mb-4 { margin-bottom: 1.5rem; }
        .mb-5 { margin-bottom: 2rem; }
        
        .text-primary { color: var(--primary); }
        .text-success { color: var(--success); }
        .text-error { color: var(--error); }
        .text-gray { color: var(--gray); }
    </style>
</head>
<body>
    <!-- Contenu de la page -->
    <div class="container">
        <header class="header">
            <h1>Questionnaire Client</h1>
            <p class="subtitle">Aidez-nous à mieux comprendre vos besoins en recrutement pour trouver les meilleurs candidats</p>
        </header>

        <main>
            <!-- Étapes de progression améliorées -->
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-bar-fill" id="progress-fill" style="width: 0%"></div>
                </div>
                <div class="progress-steps">
                    <div class="step active" data-step="1" tabindex="0">
                        <div class="step-bubble"><span>1</span></div>
                        <div class="step-label">Fiche de poste</div>
                    </div>
                    <div class="step" data-step="2" tabindex="0">
                        <div class="step-bubble"><span>2</span></div>
                        <div class="step-label">Entreprise</div>
                    </div>
                    <div class="step" data-step="3" tabindex="0">
                        <div class="step-bubble"><span>3</span></div>
                        <div class="step-label">Poste</div>
                    </div>
                    <div class="step" data-step="4" tabindex="0">
                        <div class="step-bubble"><span>4</span></div>
                        <div class="step-label">Contact</div>
                    </div>
                    <div class="step" data-step="5" tabindex="0">
                        <div class="step-bubble"><span>5</span></div>
                        <div class="step-label">Confirmation</div>
                    </div>
                </div>
            </div>
            
            <form id="client-questionnaire-form">
                <!-- Étape 1: Analyse de la fiche de poste -->
                <section class="form-section active" data-step="1">
                    <h2>Analysez votre fiche de poste</h2>
                    <p>Commencez par analyser votre fiche de poste pour en extraire automatiquement les informations clés.</p>
                    
                    <div class="upload-container" id="job-drop-zone">
                        <i class="fas fa-file-upload upload-icon"></i>
                        <h3 class="upload-text">Glissez-déposez votre fiche de poste ici</h3>
                        <p class="upload-hint">Formats acceptés: PDF, DOCX, TXT (max 5MB)</p>
                        <input type="file" id="job-file-input" class="file-input" accept=".pdf,.doc,.docx,.txt">
                        
                        <!-- Badge de fichier sélectionné (initialement caché) -->
                        <div id="file-badge" class="file-badge" style="display: none;">
                            <i class="fas fa-file-alt"></i>
                            <span id="file-name" class="file-name">nom-du-fichier.pdf</span>
                            <i class="fas fa-times remove-button" id="remove-file"></i>
                        </div>
                    </div>
                    
                    <div class="separator">
                        <div class="line"></div>
                        <div class="text">OU</div>
                        <div class="line"></div>
                    </div>
                    
                    <div class="textarea-container">
                        <textarea id="job-description-text" class="form-control" placeholder="Collez le texte de votre fiche de poste ici pour une analyse automatique..."></textarea>
                        <button type="button" id="analyze-job-text" class="analyze-button" title="Analyser">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    
                    <!-- Indicateur de chargement amélioré -->
                    <div id="analysis-loader" class="loader-container">
                        <div class="loader"></div>
                        <span class="loader-text">Analyse en cours...</span>
                    </div>
                    
                    <!-- Résultats d'analyse améliorés -->
                    <div id="job-info-container" class="job-info-container" style="display: none;">
                        <h3><i class="fas fa-check-circle"></i> Informations extraites</h3>
                        
                        <div class="info-grid">
                            <div class="info-group">
                                <label class="info-label">Titre du poste</label>
                                <div id="job-title-value" class="info-value">Non spécifié</div>
                            </div>
                            
                            <div class="info-group">
                                <label class="info-label">Type de contrat</label>
                                <div id="job-contract-value" class="info-value">Non spécifié</div>
                            </div>
                            
                            <div class="info-group">
                                <label class="info-label">Lieu</label>
                                <div id="job-location-value" class="info-value">Non spécifié</div>
                            </div>
                            
                            <div class="info-group">
                                <label class="info-label">Expérience requise</label>
                                <div id="job-experience-value" class="info-value">Non spécifié</div>
                            </div>
                            
                            <div class="info-group">
                                <label class="info-label">Formation</label>
                                <div id="job-education-value" class="info-value">Non spécifié</div>
                            </div>
                            
                            <div class="info-group">
                                <label class="info-label">Rémunération</label>
                                <div id="job-salary-value" class="info-value">Non spécifié</div>
                            </div>
                        </div>
                        
                        <div class="info-group full-width">
                            <label class="info-label">Compétences requises</label>
                            <div id="job-skills-value" class="info-value skills-container">Non spécifié</div>
                        </div>
                        
                        <div class="info-group full-width">
                            <label class="info-label">Responsabilités / Missions</label>
                            <div id="job-responsibilities-value" class="info-value">Non spécifié</div>
                        </div>
                        
                        <div class="info-group full-width">
                            <label class="info-label">Avantages</label>
                            <div id="job-benefits-value" class="info-value">Non spécifié</div>
                        </div>
                        
                        <div class="job-actions">
                            <button type="button" id="edit-parsed-info" class="btn btn-outline">
                                <i class="fas fa-edit"></i> Modifier manuellement
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-navigation">
                        <div></div> <!-- Div vide pour l'alignement flex -->
                        <button type="button" class="btn btn-primary next-step" data-step="2">
                            Continuer <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </section>
                
                <!-- Étape 2: Informations sur l'entreprise -->
                <section class="form-section" data-step="2">
                    <h2>Informations sur l'entreprise</h2>
                    <p>Aidez-nous à mieux comprendre votre entreprise et sa culture.</p>
                    
                    <div class="form-group">
                        <label for="company-name" class="form-label required">Nom de la structure</label>
                        <input type="text" id="company-name" name="company-name" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="company-address" class="form-label required">Adresse complète</label>
                        <input type="text" id="company-address" name="company-address" class="form-control" required placeholder="Numéro, rue, code postal, ville">
                    </div>
                    
                    <div class="form-group">
                        <label for="company-website" class="form-label">Site internet</label>
                        <input type="url" id="company-website" name="company-website" class="form-control" placeholder="https://www.exemple.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="company-presentation" class="form-label">Présentation rapide</label>
                        <textarea id="company-presentation" name="company-presentation" class="form-control" placeholder="Décrivez brièvement votre entreprise..."></textarea>
                        
                        <div class="mt-3">
                            <button type="button" id="generate-presentation" class="btn btn-outline">
                                <i class="fas fa-magic"></i> Générer à partir du site web
                            </button>
                        </div>
                        
                        <div id="generated-presentation" class="generated-toast">
                            <p>Présentation générée : Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="company-size" class="form-label required">Taille de la structure</label>
                        <select id="company-size" name="company-size" class="form-control" required>
                            <option value="">-- Sélectionner --</option>
                            <option value="tpe">TPE (< 10 employés)</option>
                            <option value="pme">PME (10 à 250 employés)</option>
                            <option value="eti">ETI (250 à 5000 employés)</option>
                            <option value="group">Groupe (> 5000 employés)</option>
                            <option value="startup">Startup</option>
                            <option value="association">Association</option>
                            <option value="public">Secteur public</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label required">Avez-vous un poste sur lequel vous souhaitez recruter ?</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="has-job" value="yes" checked> Oui
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="has-job" value="no"> Non
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn btn-outline prev-step" data-step="1">
                            <i class="fas fa-arrow-left"></i> Retour
                        </button>
                        <button type="button" class="btn btn-primary next-step" data-step="3">
                            Continuer <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </section>
                
                <!-- Étape 3: Informations sur le poste -->
                <section class="form-section" data-step="3">
                    <h2>Informations sur le poste</h2>
                    <p>Précisez les détails du poste pour lequel vous recrutez.</p>
                    
                    <div id="job-details-section" class="conditional-section visible">
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="recruitment-deadline" class="form-label required">Délai de recrutement</label>
                                    <select id="recruitment-deadline" name="recruitment-deadline" class="form-control" required>
                                        <option value="">-- Sélectionner --</option>
                                        <option value="immediate">Immédiat</option>
                                        <option value="two-weeks">2 semaines</option>
                                        <option value="one-month">1 mois</option>
                                        <option value="two-months">2 mois</option>
                                        <option value="three-months">3 mois</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label class="form-label required">Pouvez-vous gérer un préavis ?</label>
                                    <div class="radio-group">
                                        <label class="radio-label">
                                            <input type="radio" name="can-handle-notice" value="yes" checked> Oui
                                        </label>
                                        <label class="radio-label">
                                            <input type="radio" name="can-handle-notice" value="no"> Non
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="notice-period-section" class="conditional-section visible">
                            <div class="form-group">
                                <label for="notice-period" class="form-label">Durée de préavis acceptable</label>
                                <select id="notice-period" name="notice-period" class="form-control">
                                    <option value="">-- Sélectionner --</option>
                                    <option value="one-month">1 mois</option>
                                    <option value="two-months">2 mois</option>
                                    <option value="three-months">3 mois</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="recruitment-context" class="form-label required">Contexte de recrutement</label>
                                    <select id="recruitment-context" name="recruitment-context" class="form-control" required>
                                        <option value="">-- Sélectionner --</option>
                                        <option value="creation">Création de poste</option>
                                        <option value="replacement">Remplacement</option>
                                        <option value="growth">Accroissement d'activité / Renfort</option>
                                        <option value="confidential">Je ne souhaite pas communiquer</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="experience-required" class="form-label required">Années d'expérience requises</label>
                                    <select id="experience-required" name="experience-required" class="form-control" required>
                                        <option value="">-- Sélectionner --</option>
                                        <option value="junior">Profil Junior</option>
                                        <option value="2-3">2 ans - 3 ans</option>
                                        <option value="5-10">5 ans - 10 ans</option>
                                        <option value="10+">10 ans et plus</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label required">La connaissance de votre secteur est-elle obligatoire ?</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="sector-knowledge" value="yes"> Oui
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="sector-knowledge" value="no" checked> Non
                                </label>
                            </div>
                        </div>
                        
                        <div id="sector-select-section" class="conditional-section">
                            <div class="form-group">
                                <label for="sector" class="form-label">Secteur d'activité</label>
                                <select id="sector" name="sector" class="form-control">
                                    <option value="">-- Sélectionner --</option>
                                    <option value="tech">Technologies & IT</option>
                                    <option value="finance">Finance & Banque</option>
                                    <option value="health">Santé & Pharmaceutique</option>
                                    <option value="education">Éducation & Formation</option>
                                    <option value="retail">Commerce & Distribution</option>
                                    <option value="manufacturing">Industrie & Production</option>
                                    <option value="consulting">Conseil & Services</option>
                                    <option value="media">Médias & Communication</option>
                                    <option value="energy">Énergie & Environnement</option>
                                    <option value="transport">Transport & Logistique</option>
                                    <option value="construction">Construction & Immobilier</option>
                                    <option value="tourism">Tourisme & Hôtellerie</option>
                                    <option value="agriculture">Agriculture & Agroalimentaire</option>
                                    <option value="luxury">Luxe & Mode</option>
                                    <option value="public">Secteur public</option>
                                    <option value="other">Autre</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="work-environment" class="form-label required">Environnement de travail</label>
                                    <select id="work-environment" name="work-environment" class="form-control" required>
                                        <option value="">-- Sélectionner --</option>
                                        <option value="open-space">Open space</option>
                                        <option value="office">Bureau individuel</option>
                                        <option value="mixed">Mixte</option>
                                        <option value="remote">Télétravail</option>
                                        <option value="hybrid">Hybride</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="contract-type" class="form-label required">Type de contrat</label>
                                    <select id="contract-type" name="contract-type" class="form-control" required>
                                        <option value="">-- Sélectionner --</option>
                                        <option value="cdi-35">CDI - 35h</option>
                                        <option value="cdi-39">CDI - 39h</option>
                                        <option value="cdi-cadre">CDI - Cadre</option>
                                        <option value="cdd">CDD</option>
                                        <option value="interim">Intérim</option>
                                        <option value="freelance">Freelance</option>
                                        <option value="stage">Stage</option>
                                        <option value="alternance">Alternance</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="team-composition" class="form-label">Composition de l'équipe et rattachement</label>
                            <textarea id="team-composition" name="team-composition" class="form-control" placeholder="Ex: équipe de 5 personnes, rattaché à un responsable technique, etc."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="evolution-prospects" class="form-label">Perspectives d'évolution</label>
                            <textarea id="evolution-prospects" name="evolution-prospects" class="form-control" placeholder="Mentionnez les possibilités d'évolution si il y en a..."></textarea>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="salary" class="form-label">Rémunération</label>
                                    <input type="text" id="salary" name="salary" class="form-control" placeholder="Ex: 45-55K€ selon expérience">
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="benefit-input" class="form-label">Avantages</label>
                                    <div class="tags-input">
                                        <input type="text" id="benefit-input" class="form-control" placeholder="Ajouter un avantage et appuyer sur Entrée">
                                        <button type="button" class="add-tag-btn">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                    <div class="tags-container" id="benefits-container"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn btn-outline prev-step" data-step="2">
                            <i class="fas fa-arrow-left"></i> Retour
                        </button>
                        <button type="button" class="btn btn-primary next-step" data-step="4">
                            Continuer <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </section>
                
                <!-- Étape 4: Informations de contact -->
                <section class="form-section" data-step="4">
                    <h2>Informations de contact</h2>
                    <p>Précisez vos coordonnées pour que nous puissions vous contacter.</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="contact-name" class="form-label required">Nom du contact</label>
                                <input type="text" id="contact-name" name="contact-name" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="contact-email" class="form-label required">Email du contact</label>
                                <input type="email" id="contact-email" name="contact-email" class="form-control" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="contact-phone" class="form-label">Téléphone du contact</label>
                                <input type="tel" id="contact-phone" name="contact-phone" class="form-control">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="contact-position" class="form-label">Fonction dans l'entreprise</label>
                                <input type="text" id="contact-position" name="contact-position" class="form-control">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="hiring-process" class="form-label">
                            Processus de recrutement actuel
                            <span class="tooltip">
                                <i class="fas fa-info-circle"></i>
                                <span class="tooltip-text">Décrivez brièvement les étapes de votre processus de recrutement actuel (nombre d'entretiens, tests, etc.).</span>
                            </span>
                        </label>
                        <textarea id="hiring-process" name="hiring-process" class="form-control" placeholder="Décrivez votre processus de recrutement actuel..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="additional-info" class="form-label">Informations complémentaires (optionnel)</label>
                        <textarea id="additional-info" name="additional-info" class="form-control" placeholder="Ajoutez toute information qui pourrait nous aider à comprendre votre besoin..."></textarea>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="btn btn-outline prev-step" data-step="3">
                            <i class="fas fa-arrow-left"></i> Retour
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> Envoyer ma demande
                        </button>
                    </div>
                </section>
                
                <!-- Étape 5: Confirmation -->
                <section class="form-section" data-step="5">
                    <div class="confirmation-section">
                        <i class="fas fa-check-circle confirmation-icon"></i>
                        <h2 class="confirmation-title">Votre demande a été envoyée avec succès !</h2>
                        <p class="confirmation-message">Merci d'avoir complété notre questionnaire. Notre équipe analysera votre demande et vous contactera dans les meilleurs délais pour discuter de vos besoins en recrutement.</p>
                        <p class="confirmation-message">Un email de confirmation a été envoyé à <span id="confirmation-email" class="confirmation-email">email@exemple.com</span></p>
                        
                        <!-- Section des prochaines étapes -->
                        <div class="next-steps">
                            <h3 class="next-steps-title">Prochaines étapes</h3>
                            <p class="confirmation-message">
                                Vous pouvez maintenant analyser les CV de vos candidats potentiels et évaluer leur adéquation avec votre fiche de poste.
                            </p>
                            <div class="next-steps-actions">
                                <a href="cv-parser.html" class="btn btn-primary">
                                    <i class="fas fa-search"></i> Analyser les CV des candidats
                                </a>
                                <a href="../index.html" class="btn btn-outline">
                                    <i class="fas fa-home"></i> Retour à l'accueil
                                </a>
                            </div>
                        </div>
                    </div>
                </section>
            </form>
        </main>
    </div>
    
    <!-- Notification template (initialement caché) -->
    <div class="notification" id="notification" style="display: none;">
        <div class="notification-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        <div class="notification-content">
            <div class="notification-title">Succès</div>
            <div class="notification-message">Opération réussie</div>
        </div>
        <div class="notification-close">
            <i class="fas fa-times"></i>
        </div>
    </div>
    
    <!-- Scripts pour l'intégration du job parser -->
    <script src="../js/job-parser-connector.js"></script>
    <script src="../js/job-preview.js"></script>
    
    <!-- Script amélioré pour le formulaire client -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Variables pour les étapes et la navigation
            const progressFill = document.getElementById('progress-fill');
            const steps = document.querySelectorAll('.step');
            const formSections = document.querySelectorAll('.form-section');
            const totalSteps = steps.length;
            let currentStep = 1;
            
            // Mise à jour de la barre de progression
            function updateProgress(step) {
                const progressPercentage = ((step - 1) / (totalSteps - 1)) * 100;
                progressFill.style.width = `${progressPercentage}%`;
            }
            
            // Navigation vers une étape spécifique
            function navigateToStep(stepNumber) {
                // Validation basique avant de passer à l'étape suivante
                if (stepNumber > currentStep) {
                    if (!validateCurrentStep()) {
                        return false;
                    }
                }
                
                // Mettre à jour les indicateurs d'étape
                steps.forEach(step => {
                    const stepNum = parseInt(step.getAttribute('data-step'));
                    step.classList.remove('active', 'completed');
                    
                    if (stepNum === stepNumber) {
                        step.classList.add('active');
                    } else if (stepNum < stepNumber) {
                        step.classList.add('completed');
                    }
                });
                
                // Afficher la section correspondante
                formSections.forEach(section => {
                    section.classList.remove('active');
                    if (parseInt(section.getAttribute('data-step')) === stepNumber) {
                        section.classList.add('active');
                    }
                });
                
                // Mettre à jour la barre de progression
                updateProgress(stepNumber);
                
                // Mettre à jour l'étape actuelle
                currentStep = stepNumber;
                
                // Scroll vers le haut avec une animation fluide
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
                
                return true;
            }
            
            // Validation de l'étape actuelle
            function validateCurrentStep() {
                let isValid = true;
                const currentSection = document.querySelector(`.form-section[data-step="${currentStep}"]`);
                
                // Logique de validation spécifique à chaque étape
                if (currentStep === 1) {
                    // Étape 1 : Optionnelle, permettre de continuer sans fichier
                    return true;
                } else if (currentStep === 2) {
                    // Étape 2 : Vérifier les champs obligatoires
                    const requiredFields = [
                        { field: document.getElementById('company-name'), label: 'Nom de la structure' },
                        { field: document.getElementById('company-address'), label: 'Adresse complète' },
                        { field: document.getElementById('company-size'), label: 'Taille de la structure' }
                    ];
                    
                    isValid = validateRequiredFields(requiredFields);
                } else if (currentStep === 3) {
                    // Étape 3 : Vérifier si l'utilisateur a un poste à pourvoir
                    const hasJob = document.querySelector('input[name="has-job"]:checked').value;
                    
                    if (hasJob === 'yes') {
                        const requiredFields = [
                            { field: document.getElementById('recruitment-deadline'), label: 'Délai de recrutement' },
                            { field: document.getElementById('recruitment-context'), label: 'Contexte de recrutement' },
                            { field: document.getElementById('experience-required'), label: 'Années d\'expérience requises' },
                            { field: document.getElementById('work-environment'), label: 'Environnement de travail' },
                            { field: document.getElementById('contract-type'), label: 'Type de contrat' }
                        ];
                        
                        isValid = validateRequiredFields(requiredFields);
                    }
                } else if (currentStep === 4) {
                    // Étape 4 : Vérifier les informations de contact
                    const requiredFields = [
                        { field: document.getElementById('contact-name'), label: 'Nom du contact' },
                        { field: document.getElementById('contact-email'), label: 'Email du contact' }
                    ];
                    
                    isValid = validateRequiredFields(requiredFields);
                    
                    // Validation supplémentaire pour l'email
                    if (isValid) {
                        const emailField = document.getElementById('contact-email');
                        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                        
                        if (!emailPattern.test(emailField.value)) {
                            showNotification('Veuillez entrer une adresse email valide', 'error');
                            highlightInvalidField(emailField);
                            isValid = false;
                        }
                    }
                }
                
                return isValid;
            }
            
            // Validation des champs obligatoires
            function validateRequiredFields(fields) {
                let isValid = true;
                const invalidFields = [];
                
                fields.forEach(item => {
                    if (!item.field.value.trim()) {
                        invalidFields.push(item);
                        highlightInvalidField(item.field);
                        isValid = false;
                    }
                });
                
                if (!isValid) {
                    const fieldNames = invalidFields.map(item => item.label).join(', ');
                    showNotification(`Veuillez remplir les champs obligatoires : ${fieldNames}`, 'error');
                }
                
                return isValid;
            }
            
            // Mise en évidence des champs invalides
            function highlightInvalidField(field) {
                field.classList.add('shake');
                field.style.borderColor = 'var(--error)';
                
                field.addEventListener('input', function() {
                    this.style.borderColor = '';
                }, { once: true });
                
                // Supprimer la classe d'animation après qu'elle soit terminée
                setTimeout(() => {
                    field.classList.remove('shake');
                }, 500);
            }
            
            // Navigation par les boutons
            document.querySelectorAll('.next-step, .prev-step').forEach(button => {
                button.addEventListener('click', function() {
                    const targetStep = parseInt(this.getAttribute('data-step'));
                    navigateToStep(targetStep);
                });
            });
            
            // Navigation par les indicateurs d'étape
            steps.forEach(step => {
                step.addEventListener('click', function() {
                    const clickedStep = parseInt(this.getAttribute('data-step'));
                    
                    // Permettre uniquement de cliquer sur les étapes déjà complétées ou l'étape suivante
                    if (clickedStep <= currentStep || clickedStep === currentStep + 1) {
                        navigateToStep(clickedStep);
                    }
                });
                
                // Support du clavier pour l'accessibilité
                step.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        const clickedStep = parseInt(this.getAttribute('data-step'));
                        
                        if (clickedStep <= currentStep || clickedStep === currentStep + 1) {
                            navigateToStep(clickedStep);
                        }
                    }
                });
            });
            
            // Gestion du formulaire
            const form = document.getElementById('client-questionnaire-form');
            const confirmationEmail = document.getElementById('confirmation-email');
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Dernière validation des champs obligatoires
                if (!validateCurrentStep()) {
                    return;
                }
                
                // Simuler l'envoi du formulaire
                const submitButton = document.querySelector('button[type="submit"]');
                submitButton.disabled = true;
                submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Envoi en cours...';
                
                // Simuler un délai d'envoi
                setTimeout(() => {
                    // Afficher la confirmation avec l'email
                    confirmationEmail.textContent = document.getElementById('contact-email').value;
                    
                    // Naviguer vers l'étape de confirmation
                    navigateToStep(5);
                }, 1500);
            });
            
            // Gestion de la zone de drop pour les fichiers
            const dropZone = document.getElementById('job-drop-zone');
            const fileInput = document.getElementById('job-file-input');
            const fileBadge = document.getElementById('file-badge');
            const fileName = document.getElementById('file-name');
            const removeFile = document.getElementById('remove-file');
            
            // Prévenir le comportement par défaut pour permettre le drop
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropZone.addEventListener(eventName, function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                });
            });
            
            // Ajouter/supprimer la classe active pendant le drag
            ['dragenter', 'dragover'].forEach(eventName => {
                dropZone.addEventListener(eventName, function() {
                    this.classList.add('drag-active');
                });
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                dropZone.addEventListener(eventName, function() {
                    this.classList.remove('drag-active');
                });
            });
            
            // Gérer le drop de fichier
            dropZone.addEventListener('drop', function(e) {
                if (e.dataTransfer.files.length) {
                    handleFile(e.dataTransfer.files[0]);
                }
            });
            
            // Gérer la sélection de fichier par le bouton
            fileInput.addEventListener('change', function() {
                if (this.files.length) {
                    handleFile(this.files[0]);
                }
            });
            
            // Gérer la suppression du fichier
            removeFile.addEventListener('click', function(e) {
                e.stopPropagation();
                fileInput.value = '';
                fileBadge.style.display = 'none';
                showNotification('Fichier supprimé', 'info');
            });
            
            // Fonction pour gérer le fichier sélectionné
            function handleFile(file) {
                // Vérifier la taille du fichier (max 5MB)
                const maxSizeInBytes = 5 * 1024 * 1024; // 5MB
                
                if (file.size > maxSizeInBytes) {
                    showNotification('Le fichier est trop volumineux. La taille maximale est de 5MB.', 'error');
                    return;
                }
                
                // Vérifier le type de fichier
                const acceptedTypes = [
                    'application/pdf',
                    'application/msword',
                    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
                    'text/plain'
                ];
                
                if (!acceptedTypes.includes(file.type)) {
                    showNotification('Format de fichier non supporté. Veuillez utiliser PDF, DOC, DOCX ou TXT.', 'error');
                    return;
                }
                
                // Afficher le badge de fichier
                fileName.textContent = file.name;
                fileBadge.style.display = 'inline-flex';
                showNotification('Fichier sélectionné avec succès', 'success');
            }
            
            // Analyse de la fiche de poste
            const analyzeButton = document.getElementById('analyze-job-text');
            const jobDescriptionText = document.getElementById('job-description-text');
            const analysisLoader = document.getElementById('analysis-loader');
            const jobInfoContainer = document.getElementById('job-info-container');
            
            analyzeButton.addEventListener('click', function() {
                if (!jobDescriptionText.value.trim() && !fileInput.files.length) {
                    showNotification("Veuillez d'abord saisir ou importer une fiche de poste", "error");
                    return;
                }
                
                // Simuler le chargement
                this.disabled = true;
                analysisLoader.style.display = 'flex';
                
                // Simuler un délai d'API
                setTimeout(() => {
                    analysisLoader.style.display = 'none';
                    jobInfoContainer.style.display = 'block';
                    this.disabled = false;
                    
                    // Remplir avec des données fictives pour la démonstration
                    document.getElementById('job-title-value').textContent = 'Développeur Full Stack JavaScript';
                    document.getElementById('job-contract-value').textContent = 'CDI';
                    document.getElementById('job-location-value').textContent = 'Paris (75) - Possibilité de télétravail';
                    document.getElementById('job-experience-value').textContent = '3 à 5 ans';
                    document.getElementById('job-education-value').textContent = 'Bac+5 en informatique ou équivalent';
                    document.getElementById('job-salary-value').textContent = '45K€ - 55K€ selon expérience';
                    
                    document.getElementById('job-skills-value').innerHTML = `
                        <ul>
                            <li>JavaScript / TypeScript</li>
                            <li>React.js / Vue.js</li>
                            <li>Node.js / Express</li>
                            <li>MongoDB / SQL</li>
                            <li>Git / GitHub</li>
                        </ul>
                    `;
                    
                    document.getElementById('job-responsibilities-value').innerHTML = `
                        <ul>
                            <li>Développer et maintenir des applications web performantes</li>
                            <li>Collaborer avec les designers et les product owners</li>
                            <li>Participer aux revues de code et assurer la qualité du code</li>
                            <li>Optimiser les applications pour une performance maximale</li>
                        </ul>
                    `;
                    
                    document.getElementById('job-benefits-value').innerHTML = `
                        <ul>
                            <li>Télétravail partiel</li>
                            <li>Tickets restaurant</li>
                            <li>Mutuelle d'entreprise</li>
                            <li>Formation continue</li>
                        </ul>
                    `;
                    
                    showNotification("L'analyse de la fiche de poste a été complétée avec succès !", "success");
                }, 1500);
            });
            
            // Gestion des tags pour les avantages
            const benefitInput = document.getElementById('benefit-input');
            const benefitsContainer = document.getElementById('benefits-container');
            const addTagBtn = document.querySelector('.add-tag-btn');
            
            // Exemples d'avantages par défaut
            const defaultBenefits = ['Télétravail', 'Tickets restaurant', 'RTT', 'Mutuelle'];
            defaultBenefits.forEach(benefit => addBenefitTag(benefit));
            
            // Ajouter un tag par appui sur Entrée
            benefitInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    addBenefitFromInput();
                }
            });
            
            // Ajouter un tag par clic sur le bouton
            addTagBtn.addEventListener('click', function() {
                addBenefitFromInput();
            });
            
            function addBenefitFromInput() {
                const benefit = benefitInput.value.trim();
                
                if (benefit) {
                    addBenefitTag(benefit);
                    benefitInput.value = '';
                    benefitInput.focus();
                }
            }
            
            function addBenefitTag(text) {
                const tag = document.createElement('div');
                tag.className = 'tag';
                tag.innerHTML = `${text} <i class="fas fa-times"></i>`;
                
                tag.querySelector('i').addEventListener('click', function() {
                    benefitsContainer.removeChild(tag);
                });
                
                benefitsContainer.appendChild(tag);
            }
            
            // Gestion des sections conditionnelles
            const hasJobRadios = document.querySelectorAll('input[name="has-job"]');
            const jobDetailsSection = document.getElementById('job-details-section');
            
            hasJobRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'yes') {
                        jobDetailsSection.classList.add('visible');
                    } else {
                        jobDetailsSection.classList.remove('visible');
                    }
                });
            });
            
            const canHandleNoticeRadios = document.querySelectorAll('input[name="can-handle-notice"]');
            const noticePeriodSection = document.getElementById('notice-period-section');
            
            canHandleNoticeRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'yes') {
                        noticePeriodSection.classList.add('visible');
                    } else {
                        noticePeriodSection.classList.remove('visible');
                    }
                });
            });
            
            const sectorKnowledgeRadios = document.querySelectorAll('input[name="sector-knowledge"]');
            const sectorSelectSection = document.getElementById('sector-select-section');
            
            sectorKnowledgeRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'yes') {
                        sectorSelectSection.classList.add('visible');
                    } else {
                        sectorSelectSection.classList.remove('visible');
                    }
                });
            });
            
            // Génération de présentation à partir du site web
            const generatePresentationButton = document.getElementById('generate-presentation');
            const generatedPresentation = document.getElementById('generated-presentation');
            const companyWebsite = document.getElementById('company-website');
            const companyPresentation = document.getElementById('company-presentation');
            
            generatePresentationButton.addEventListener('click', function() {
                if (!companyWebsite.value) {
                    showNotification("Veuillez d'abord saisir l'URL de votre site web", "error");
                    return;
                }
                
                // Simuler le chargement
                this.disabled = true;
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Génération en cours...';
                
                // Simuler un délai d'API
                setTimeout(() => {
                    // Texte généré basé sur l'URL fournie
                    const domain = companyWebsite.value.replace('https://', '').replace('www.', '').split('/')[0];
                    
                    const exampleText = `${domain} est une entreprise innovante spécialisée dans le développement de solutions digitales. Fondée en 2015, l'entreprise s'est rapidement développée pour devenir un acteur majeur dans son domaine. Notre mission est de fournir des solutions technologiques performantes et adaptées aux besoins spécifiques de nos clients, en mettant l'accent sur l'innovation et l'excellence technique.`;
                    
                    // Mettre à jour le contenu généré
                    generatedPresentation.innerHTML = `<p>${exampleText}</p>`;
                    generatedPresentation.classList.add('visible');
                    
                    // Mettre également le texte dans le textarea
                    companyPresentation.value = exampleText;
                    
                    // Réinitialiser le bouton
                    this.disabled = false;
                    this.innerHTML = '<i class="fas fa-magic"></i> Générer à partir du site web';
                    
                    showNotification("Présentation générée avec succès !", "success");
                }, 1500);
            });
            
            // Affichage des notifications
            function showNotification(message, type = 'success') {
                const notification = document.getElementById('notification');
                const notificationIcon = notification.querySelector('.notification-icon i');
                const notificationTitle = notification.querySelector('.notification-title');
                const notificationMessage = notification.querySelector('.notification-message');
                
                // Définir le type de notification
                notification.className = 'notification';
                notification.classList.add(type);
                
                // Définir l'icône en fonction du type
                notificationIcon.className = '';
                if (type === 'success') {
                    notificationIcon.className = 'fas fa-check-circle';
                    notificationTitle.textContent = 'Succès';
                } else if (type === 'error') {
                    notificationIcon.className = 'fas fa-exclamation-circle';
                    notificationTitle.textContent = 'Erreur';
                } else if (type === 'info') {
                    notificationIcon.className = 'fas fa-info-circle';
                    notificationTitle.textContent = 'Information';
                }
                
                // Définir le message
                notificationMessage.textContent = message;
                
                // Afficher la notification
                notification.style.display = 'flex';
                setTimeout(() => {
                    notification.classList.add('show');
                }, 10);
                
                // Masquer la notification après un délai
                const timeout = setTimeout(() => {
                    hideNotification();
                }, 5000);
                
                // Permettre de fermer la notification manuellement
                const closeButton = notification.querySelector('.notification-close');
                closeButton.addEventListener('click', () => {
                    clearTimeout(timeout);
                    hideNotification();
                });
                
                function hideNotification() {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        notification.style.display = 'none';
                    }, 300);
                }
            }
            
            // Initialiser la barre de progression
            updateProgress(currentStep);
        });
    </script>
</body>
</html>