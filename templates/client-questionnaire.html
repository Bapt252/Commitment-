<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexten - Questionnaire Recrutement</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="../static/styles/nexten-modern-interactive.css">
    <link rel="stylesheet" href="../static/css/job-parser-styles.css">
    <link rel="stylesheet" href="../static/css/client-questionnaire.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Style supplémentaire pour les améliorations -->
    <style>
        /* Styles pour les étapes */
        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }
        
        .progress-steps::before {
            content: '';
            position: absolute;
            top: 25px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #e9ecef;
            z-index: 1;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }
        
        .step-number {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #f8f9fa;
            border: 2px solid #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 8px;
            transition: all 0.3s ease;
        }
        
        .step.active .step-number {
            background-color: #4361ee;
            border-color: #4361ee;
            color: white;
        }
        
        .step.completed .step-number {
            background-color: #43aa8b;
            border-color: #43aa8b;
            color: white;
        }
        
        .step-label {
            font-size: 0.9rem;
            color: #6c757d;
        }
        
        .step.active .step-label {
            color: #4361ee;
            font-weight: 500;
        }
        
        .step.completed .step-label {
            color: #43aa8b;
        }
        
        /* Styles pour les sections du formulaire */
        .form-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .form-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Amélioration pour la zone de dépôt */
        #job-drop-zone.drag-active {
            border-color: #4361ee;
            background-color: rgba(67, 97, 238, 0.05);
        }
        
        /* Badge pour fichier sélectionné */
        .file-badge {
            display: inline-flex;
            align-items: center;
            background-color: #eef2ff;
            border: 1px solid #4361ee;
            border-radius: 4px;
            padding: 8px 12px;
            margin-top: 12px;
            font-size: 0.9rem;
        }
        
        .file-badge i {
            margin-right: 8px;
            color: #4361ee;
        }
        
        .file-badge .remove-file {
            margin-left: 8px;
            cursor: pointer;
            color: #6c757d;
        }
        
        .file-badge .remove-file:hover {
            color: #dc3545;
        }
        
        /* Amélioration des notifications */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 16px;
            border-radius: 4px;
            background-color: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 12px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
            max-width: 400px;
        }
        
        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notification.success {
            border-left: 4px solid #43aa8b;
        }
        
        .notification.success i {
            color: #43aa8b;
        }
        
        .notification.error {
            border-left: 4px solid #e63946;
        }
        
        .notification.error i {
            color: #e63946;
        }
        
        .notification.info {
            border-left: 4px solid #4361ee;
        }
        
        .notification.info i {
            color: #4361ee;
        }
        
        /* Tag input pour les compétences */
        .tags-input {
            margin-top: 12px;
        }
        
        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }
        
        .tag {
            display: inline-flex;
            align-items: center;
            background-color: #eef2ff;
            color: #4361ee;
            border-radius: 16px;
            padding: 4px 12px;
            font-size: 0.9rem;
        }
        
        .tag i {
            margin-left: 8px;
            cursor: pointer;
            font-size: 0.8rem;
        }
        
        .tag i:hover {
            color: #e63946;
        }
        
        /* Amélioration des boutons de navigation */
        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
        }
        
        /* Loader */
        .loader-container {
            display: none;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #4361ee;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Message de confirmation */
        .confirmation-message {
            text-align: center;
            padding: 40px 20px;
            display: none;
        }
        
        .confirmation-message i {
            font-size: 60px;
            color: #43aa8b;
            margin-bottom: 20px;
        }
        
        .confirmation-message h2 {
            margin-bottom: 16px;
            color: #212529;
        }
        
        .confirmation-message p {
            color: #6c757d;
            max-width: 600px;
            margin: 0 auto 24px;
        }
        
        /* Tooltips */
        .tooltip-icon {
            display: inline-block;
            margin-left: 4px;
            color: #6c757d;
            cursor: help;
            position: relative;
        }
        
        .tooltip-icon:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            padding: 8px;
            border-radius: 4px;
            background-color: #343a40;
            color: white;
            font-size: 0.8rem;
            text-align: center;
            z-index: 10;
        }
        
        /* Mise en évidence des champs obligatoires */
        .required-field::after {
            content: ' *';
            color: #e63946;
        }
        
        /* Prochaines étapes */
        .next-steps-section {
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: #eef2ff;
            border-radius: 8px;
            border-left: 4px solid #4361ee;
        }
        
        .next-steps-title {
            font-weight: 600;
            margin-bottom: 1rem;
            color: #212529;
        }
        
        .next-steps-description {
            margin-bottom: 1.5rem;
            color: #6c757d;
        }
        
        .next-steps-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .next-step-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.25rem;
            background-color: white;
            border: 1px solid #4361ee;
            color: #4361ee;
            border-radius: 4px;
            font-weight: 500;
            text-decoration: none;
            transition: all 0.2s ease;
        }
        
        .next-step-button:hover {
            background-color: #4361ee;
            color: white;
        }
        
        .next-step-button.primary {
            background-color: #4361ee;
            color: white;
        }
        
        .next-step-button.primary:hover {
            background-color: #3a56d4;
        }
        
        /* Éléments conditionnels */
        .conditional-section {
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            background-color: #f8f9fa;
            display: none;
        }
        
        .conditional-section.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        /* Section de présentation générée */
        .generated-content {
            padding: 1rem;
            margin-top: 0.5rem;
            background-color: #eef2ff;
            border-radius: 4px;
            border-left: 3px solid #4361ee;
            font-style: italic;
            display: none;
        }
        
        .generated-content.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        /* Bouton d'auto-génération */
        .generate-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0.75rem;
            background-color: #f8f9fa;
            border: 1px solid #ced4da;
            color: #495057;
            border-radius: 4px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .generate-button:hover {
            background-color: #e9ecef;
            border-color: #adb5bd;
        }
        
        .generate-button i {
            color: #4361ee;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .step-label {
                display: none;
            }
            
            .form-row {
                flex-direction: column;
            }
            
            .form-navigation {
                flex-direction: column-reverse;
                gap: 10px;
            }
            
            .form-navigation button {
                width: 100%;
            }
            
            .next-steps-actions {
                flex-direction: column;
            }
            
            .next-step-button {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Contenu de la page -->
    <div class="container">
        <header class="header">
            <h1>Questionnaire Client</h1>
            <p class="subtitle">Aidez-nous à mieux comprendre vos besoins en recrutement</p>
        </header>

        <main>
            <!-- Étapes de progression -->
            <div class="progress-steps">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">Fiche de poste</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">Entreprise</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">Poste</div>
                </div>
                <div class="step" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-label">Contact</div>
                </div>
                <div class="step" data-step="5">
                    <div class="step-number">5</div>
                    <div class="step-label">Confirmation</div>
                </div>
            </div>
            
            <form id="client-questionnaire-form">
                <!-- Étape 1: Analyse de la fiche de poste -->
                <section class="form-section active" data-step="1">
                    <h2>Analysez votre fiche de poste</h2>
                    <p>Commencez par analyser votre fiche de poste pour en extraire les informations clés.</p>
                    
                    <div id="inline-job-parser" class="parser-container">
                        <div class="parser-section">
                            <div id="job-drop-zone" class="drop-zone">
                                <span class="drop-zone-text">Glissez-déposez votre fiche de poste ici ou cliquez pour choisir un fichier</span>
                                <input type="file" id="job-file-input" class="drop-zone-input" accept=".pdf,.doc,.docx,.txt">
                                <!-- Badge de fichier sélectionné (initialement caché) -->
                                <div id="file-badge" class="file-badge" style="display: none;">
                                    <i class="fas fa-file-alt"></i>
                                    <span id="file-name">nom-du-fichier.pdf</span>
                                    <i class="fas fa-times remove-file" id="remove-file"></i>
                                </div>
                            </div>
                            
                            <div class="parser-separator">
                                <div class="line"></div>
                                <div class="text">OU</div>
                                <div class="line"></div>
                            </div>
                            
                            <div class="text-input-container">
                                <textarea id="job-description-text" class="job-description-textarea" placeholder="Collez le texte de votre fiche de poste ici..."></textarea>
                                <button type="button" id="analyze-job-text" class="analyze-button">
                                    <i class="fas fa-search"></i> Analyser
                                </button>
                            </div>
                        </div>
                        
                        <!-- Indicateur de chargement -->
                        <div id="analysis-loader" class="loader-container">
                            <div class="loader"></div>
                            <span>Analyse en cours...</span>
                        </div>
                        
                        <div id="inline-analysis-results" class="analysis-results" style="display: none;"></div>
                    </div>
                    
                    <div id="job-info-container" class="job-info-container" style="display: none;">
                        <h3>Informations extraites</h3>
                        
                        <div class="info-grid">
                            <div class="info-group">
                                <label>Titre du poste</label>
                                <div id="job-title-value" class="info-value">Non spécifié</div>
                            </div>
                            
                            <div class="info-group">
                                <label>Type de contrat</label>
                                <div id="job-contract-value" class="info-value">Non spécifié</div>
                            </div>
                            
                            <div class="info-group">
                                <label>Lieu</label>
                                <div id="job-location-value" class="info-value">Non spécifié</div>
                            </div>
                            
                            <div class="info-group">
                                <label>Expérience requise</label>
                                <div id="job-experience-value" class="info-value">Non spécifié</div>
                            </div>
                            
                            <div class="info-group">
                                <label>Formation</label>
                                <div id="job-education-value" class="info-value">Non spécifié</div>
                            </div>
                            
                            <div class="info-group">
                                <label>Rémunération</label>
                                <div id="job-salary-value" class="info-value">Non spécifié</div>
                            </div>
                        </div>
                        
                        <div class="info-group full-width">
                            <label>Compétences requises</label>
                            <div id="job-skills-value" class="info-value skills-container">Non spécifié</div>
                        </div>
                        
                        <div class="info-group full-width">
                            <label>Responsabilités / Missions</label>
                            <div id="job-responsibilities-value" class="info-value">Non spécifié</div>
                        </div>
                        
                        <div class="info-group full-width">
                            <label>Avantages</label>
                            <div id="job-benefits-value" class="info-value">Non spécifié</div>
                        </div>
                        
                        <div class="job-actions">
                            <button type="button" id="edit-parsed-info" class="action-button">
                                <i class="fas fa-edit"></i> Modifier manuellement
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-navigation">
                        <div></div> <!-- Div vide pour l'alignement flex -->
                        <button type="button" class="next-step action-button" data-step="2">
                            Continuer <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </section>
                
                <!-- Étape 2: Informations sur l'entreprise -->
                <section class="form-section" data-step="2">
                    <h2>Informations sur l'entreprise</h2>
                    <p>Aidez-nous à mieux comprendre votre entreprise et sa culture.</p>
                    
                    <div class="form-group">
                        <label for="company-name" class="required-field">Nom de la structure</label>
                        <input type="text" id="company-name" name="company-name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="company-address" class="required-field">Adresse complète</label>
                        <input type="text" id="company-address" name="company-address" required placeholder="Numéro, rue, code postal, ville">
                    </div>
                    
                    <div class="form-group">
                        <label for="company-website">Site internet</label>
                        <input type="url" id="company-website" name="company-website" placeholder="https://www.exemple.com">
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="company-presentation">Présentation rapide</label>
                        <textarea id="company-presentation" name="company-presentation" placeholder="Décrivez brièvement votre entreprise..."></textarea>
                        
                        <button type="button" id="generate-presentation" class="generate-button mt-2">
                            <i class="fas fa-magic"></i> Générer à partir du site web
                        </button>
                        
                        <div id="generated-presentation" class="generated-content">
                            <p>Présentation générée : Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="company-size" class="required-field">Taille de la structure</label>
                        <select id="company-size" name="company-size" required>
                            <option value="">-- Sélectionner --</option>
                            <option value="tpe">TPE (< 10 employés)</option>
                            <option value="pme">PME (10 à 250 employés)</option>
                            <option value="eti">ETI (250 à 5000 employés)</option>
                            <option value="group">Groupe (> 5000 employés)</option>
                            <option value="startup">Startup</option>
                            <option value="association">Association</option>
                            <option value="public">Secteur public</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="has-job" class="required-field">Avez-vous un poste sur lequel vous souhaitez recruter ?</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="has-job" value="yes" checked> Oui
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="has-job" value="no"> Non
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="prev-step action-button" data-step="1">
                            <i class="fas fa-arrow-left"></i> Retour
                        </button>
                        <button type="button" class="next-step action-button" data-step="3">
                            Continuer <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </section>
                
                <!-- Étape 3: Informations sur le poste -->
                <section class="form-section" data-step="3">
                    <h2>Informations sur le poste</h2>
                    <p>Précisez les détails du poste pour lequel vous recrutez.</p>
                    
                    <div id="job-details-section" class="conditional-section visible">
                        <div class="form-group">
                            <label for="recruitment-deadline" class="required-field">Délai de recrutement</label>
                            <select id="recruitment-deadline" name="recruitment-deadline" required>
                                <option value="">-- Sélectionner --</option>
                                <option value="immediate">Immédiat</option>
                                <option value="two-weeks">2 semaines</option>
                                <option value="one-month">1 mois</option>
                                <option value="two-months">2 mois</option>
                                <option value="three-months">3 mois</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="can-handle-notice" class="required-field">Pouvez-vous gérer un préavis ?</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="can-handle-notice" value="yes" checked> Oui
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="can-handle-notice" value="no"> Non
                                </label>
                            </div>
                        </div>
                        
                        <div id="notice-period-section" class="conditional-section visible">
                            <div class="form-group">
                                <label for="notice-period">Durée de préavis acceptable</label>
                                <select id="notice-period" name="notice-period">
                                    <option value="">-- Sélectionner --</option>
                                    <option value="one-month">1 mois</option>
                                    <option value="two-months">2 mois</option>
                                    <option value="three-months">3 mois</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="recruitment-context" class="required-field">Contexte de recrutement</label>
                            <select id="recruitment-context" name="recruitment-context" required>
                                <option value="">-- Sélectionner --</option>
                                <option value="creation">Création de poste</option>
                                <option value="replacement">Remplacement</option>
                                <option value="growth">Accroissement d'activité / Renfort</option>
                                <option value="confidential">Je ne souhaite pas communiquer</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="experience-required" class="required-field">Années d'expérience requises pour le poste</label>
                            <select id="experience-required" name="experience-required" required>
                                <option value="">-- Sélectionner --</option>
                                <option value="junior">Profil Junior</option>
                                <option value="2-3">2 ans - 3 ans</option>
                                <option value="5-10">5 ans - 10 ans</option>
                                <option value="10+">10 ans et plus</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="sector-knowledge" class="required-field">La connaissance de votre secteur est-elle obligatoire ?</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="sector-knowledge" value="yes"> Oui
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="sector-knowledge" value="no" checked> Non
                                </label>
                            </div>
                        </div>
                        
                        <div id="sector-select-section" class="conditional-section">
                            <div class="form-group">
                                <label for="sector">Secteur d'activité</label>
                                <select id="sector" name="sector">
                                    <option value="">-- Sélectionner --</option>
                                    <option value="tech">Technologies & IT</option>
                                    <option value="finance">Finance & Banque</option>
                                    <option value="health">Santé & Pharmaceutique</option>
                                    <option value="education">Éducation & Formation</option>
                                    <option value="retail">Commerce & Distribution</option>
                                    <option value="manufacturing">Industrie & Production</option>
                                    <option value="consulting">Conseil & Services</option>
                                    <option value="media">Médias & Communication</option>
                                    <option value="energy">Énergie & Environnement</option>
                                    <option value="transport">Transport & Logistique</option>
                                    <option value="construction">Construction & Immobilier</option>
                                    <option value="tourism">Tourisme & Hôtellerie</option>
                                    <option value="agriculture">Agriculture & Agroalimentaire</option>
                                    <option value="luxury">Luxe & Mode</option>
                                    <option value="public">Secteur public</option>
                                    <option value="other">Autre</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="work-environment" class="required-field">Environnement de travail</label>
                            <select id="work-environment" name="work-environment" required>
                                <option value="">-- Sélectionner --</option>
                                <option value="open-space">Open space</option>
                                <option value="office">Bureau individuel</option>
                                <option value="mixed">Mixte</option>
                                <option value="remote">Télétravail</option>
                                <option value="hybrid">Hybride</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="team-composition">Composition de l'équipe et rattachement interne</label>
                            <textarea id="team-composition" name="team-composition" placeholder="Ex: équipe de 5 personnes, rattaché à un responsable technique, etc."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="evolution-prospects">Perspectives d'évolution</label>
                            <textarea id="evolution-prospects" name="evolution-prospects" placeholder="Mentionnez les possibilités d'évolution si il y en a..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="salary">Rémunération</label>
                            <input type="text" id="salary" name="salary" placeholder="Ex: 45-55K€ selon expérience">
                        </div>
                        
                        <div class="form-group">
                            <label for="benefits">Avantages</label>
                            <div class="tags-input">
                                <input type="text" id="benefit-input" placeholder="Ajouter un avantage (ex: télétravail) et appuyer sur Entrée">
                            </div>
                            <div class="tags-container" id="benefits-container"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="contract-type" class="required-field">Type de contrat</label>
                            <select id="contract-type" name="contract-type" required>
                                <option value="">-- Sélectionner --</option>
                                <option value="cdi-35">CDI - 35h</option>
                                <option value="cdi-39">CDI - 39h</option>
                                <option value="cdi-cadre">CDI - Cadre</option>
                                <option value="cdd">CDD</option>
                                <option value="interim">Intérim</option>
                                <option value="freelance">Freelance</option>
                                <option value="stage">Stage</option>
                                <option value="alternance">Alternance</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="prev-step action-button" data-step="2">
                            <i class="fas fa-arrow-left"></i> Retour
                        </button>
                        <button type="button" class="next-step action-button" data-step="4">
                            Continuer <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </section>
                
                <!-- Étape 4: Informations de contact -->
                <section class="form-section" data-step="4">
                    <h2>Informations de contact</h2>
                    <p>Précisez vos coordonnées pour que nous puissions vous contacter.</p>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="contact-name" class="required-field">Nom du contact</label>
                                <input type="text" id="contact-name" name="contact-name" required>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="contact-email" class="required-field">Email du contact</label>
                                <input type="email" id="contact-email" name="contact-email" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="contact-phone">Téléphone du contact</label>
                                <input type="tel" id="contact-phone" name="contact-phone">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="contact-position">Fonction dans l'entreprise</label>
                                <input type="text" id="contact-position" name="contact-position">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="hiring-process">Processus de recrutement actuel
                            <i class="fas fa-info-circle tooltip-icon" data-tooltip="Décrivez brièvement les étapes de votre processus de recrutement actuel (nombre d'entretiens, tests, etc.)."></i>
                        </label>
                        <textarea id="hiring-process" name="hiring-process" placeholder="Décrivez votre processus de recrutement actuel..."></textarea>
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="additional-info">Informations complémentaires (optionnel)</label>
                        <textarea id="additional-info" name="additional-info" placeholder="Ajoutez toute information qui pourrait nous aider à comprendre votre besoin..."></textarea>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="prev-step action-button" data-step="3">
                            <i class="fas fa-arrow-left"></i> Retour
                        </button>
                        <button type="submit" class="submit-button">
                            <i class="fas fa-paper-plane"></i> Envoyer ma demande
                        </button>
                    </div>
                </section>
                
                <!-- Étape 5: Confirmation -->
                <section class="form-section" data-step="5">
                    <div class="confirmation-message">
                        <i class="fas fa-check-circle"></i>
                        <h2>Votre demande a été envoyée avec succès !</h2>
                        <p>Merci d'avoir complété notre questionnaire. Notre équipe analysera votre demande et vous contactera dans les meilleurs délais pour discuter de vos besoins en recrutement.</p>
                        <p>Un email de confirmation a été envoyé à <span id="confirmation-email">email@exemple.com</span></p>
                        
                        <!-- Section des prochaines étapes -->
                        <div class="next-steps-section">
                            <h3 class="next-steps-title">Prochaines étapes</h3>
                            <p class="next-steps-description">
                                Vous pouvez maintenant analyser les CV de vos candidats potentiels et évaluer leur adéquation avec votre fiche de poste.
                            </p>
                            <div class="next-steps-actions">
                                <a href="cv-parser.html" class="next-step-button primary">
                                    <i class="fas fa-search"></i> Analyser les CV des candidats
                                </a>
                                <a href="../index.html" class="next-step-button">
                                    <i class="fas fa-home"></i> Retour à l'accueil
                                </a>
                            </div>
                        </div>
                    </div>
                </section>
            </form>
        </main>
    </div>
    
    <!-- Scripts pour l'intégration du job parser -->
    <script src="../js/job-parser-connector.js"></script>
    <script src="../js/job-preview.js"></script>
    
    <!-- Script spécifique au formulaire client -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Gestion des étapes du formulaire
            const steps = document.querySelectorAll('.step');
            const formSections = document.querySelectorAll('.form-section');
            
            // Boutons de navigation
            const nextButtons = document.querySelectorAll('.next-step');
            const prevButtons = document.querySelectorAll('.prev-step');
            
            // Navigation vers l'étape suivante
            nextButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const nextStep = parseInt(this.getAttribute('data-step'));
                    
                    // Vérification basique avant de passer à l'étape suivante
                    if (nextStep === 2) {
                        // Pour l'exemple, on permet de continuer même sans analyse
                        // En production, on pourrait vérifier si l'analyse a été faite
                    } else if (nextStep === 3) {
                        // Vérifier les champs obligatoires de l'étape 2
                        const companyName = document.getElementById('company-name');
                        const companyAddress = document.getElementById('company-address');
                        const companySize = document.getElementById('company-size');
                        
                        if (!companyName.value || !companyAddress.value || !companySize.value) {
                            showNotification("Veuillez remplir tous les champs obligatoires", "error");
                            highlightEmptyFields([companyName, companyAddress, companySize]);
                            return;
                        }
                    } else if (nextStep === 4) {
                        // Si l'utilisateur a indiqué qu'il a un poste à pourvoir, vérifier les champs obligatoires
                        const hasJob = document.querySelector('input[name="has-job"]:checked').value;
                        
                        if (hasJob === 'yes') {
                            const requiredFields = [
                                document.getElementById('recruitment-deadline'),
                                document.getElementById('recruitment-context'),
                                document.getElementById('experience-required'),
                                document.getElementById('work-environment'),
                                document.getElementById('contract-type')
                            ];
                            
                            const emptyFields = requiredFields.filter(field => !field.value);
                            
                            if (emptyFields.length > 0) {
                                showNotification("Veuillez remplir tous les champs obligatoires", "error");
                                highlightEmptyFields(emptyFields);
                                return;
                            }
                        }
                    }
                    
                    navigateToStep(nextStep);
                });
            });
            
            // Navigation vers l'étape précédente
            prevButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const prevStep = parseInt(this.getAttribute('data-step'));
                    navigateToStep(prevStep);
                });
            });
            
            // Fonction de navigation entre les étapes
            function navigateToStep(stepNumber) {
                // Mettre à jour les indicateurs d'étape
                steps.forEach(step => {
                    const stepNum = parseInt(step.getAttribute('data-step'));
                    step.classList.remove('active', 'completed');
                    
                    if (stepNum === stepNumber) {
                        step.classList.add('active');
                    } else if (stepNum < stepNumber) {
                        step.classList.add('completed');
                    }
                });
                
                // Afficher la section correspondante
                formSections.forEach(section => {
                    section.classList.remove('active');
                    if (parseInt(section.getAttribute('data-step')) === stepNumber) {
                        section.classList.add('active');
                    }
                });
                
                // Scroll vers le haut
                window.scrollTo(0, 0);
            }
            
            // Fonction pour mettre en évidence les champs vides
            function highlightEmptyFields(fields) {
                fields.forEach(field => {
                    if (!field.value) {
                        field.style.borderColor = '#e63946';
                        
                        field.addEventListener('input', function() {
                            this.style.borderColor = '';
                        }, { once: true });
                    }
                });
            }
            
            // Gestion de la zone de dépôt de fichiers
            const dropZone = document.getElementById('job-drop-zone');
            const fileInput = document.getElementById('job-file-input');
            const fileBadge = document.getElementById('file-badge');
            const fileName = document.getElementById('file-name');
            const removeFile = document.getElementById('remove-file');
            
            dropZone.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('drag-active');
            });
            
            dropZone.addEventListener('dragleave', function() {
                this.classList.remove('drag-active');
            });
            
            dropZone.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('drag-active');
                
                if (e.dataTransfer.files.length) {
                    handleFile(e.dataTransfer.files[0]);
                }
            });
            
            dropZone.addEventListener('click', function(e) {
                // Ne pas déclencher si on clique sur le badge de fichier ou le bouton de suppression
                if (!e.target.closest('#file-badge')) {
                    fileInput.click();
                }
            });
            
            fileInput.addEventListener('change', function() {
                if (this.files.length) {
                    handleFile(this.files[0]);
                }
            });
            
            removeFile.addEventListener('click', function(e) {
                e.stopPropagation();
                fileInput.value = '';
                fileBadge.style.display = 'none';
            });
            
            function handleFile(file) {
                fileName.textContent = file.name;
                fileBadge.style.display = 'inline-flex';
            }
            
            // Analyse de la fiche de poste
            const analyzeButton = document.getElementById('analyze-job-text');
            const jobDescriptionText = document.getElementById('job-description-text');
            const analysisLoader = document.getElementById('analysis-loader');
            const jobInfoContainer = document.getElementById('job-info-container');
            
            analyzeButton.addEventListener('click', function() {
                if (!jobDescriptionText.value && !fileInput.files.length) {
                    showNotification("Veuillez d'abord saisir ou importer une fiche de poste", "error");
                    return;
                }
                
                // Simuler le chargement
                this.disabled = true;
                analyzeButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analyse en cours...';
                analysisLoader.style.display = 'flex';
                
                // Simuler un délai d'API
                setTimeout(() => {
                    analysisLoader.style.display = 'none';
                    jobInfoContainer.style.display = 'block';
                    analyzeButton.innerHTML = '<i class="fas fa-search"></i> Analyser';
                    this.disabled = false;
                    showNotification("L'analyse de la fiche de poste a été complétée avec succès !", "success");
                }, 1500);
            });
            
            // Gestion des tags pour les avantages
            const benefitInput = document.getElementById('benefit-input');
            const benefitsContainer = document.getElementById('benefits-container');
            
            // Exemples d'avantages par défaut
            const defaultBenefits = ['Télétravail', 'Tickets restaurant', 'RTT', '13e mois'];
            defaultBenefits.forEach(benefit => addBenefitTag(benefit));
            
            benefitInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    const benefit = this.value.trim();
                    
                    if (benefit) {
                        addBenefitTag(benefit);
                        this.value = '';
                    }
                }
            });
            
            function addBenefitTag(text) {
                const tag = document.createElement('div');
                tag.className = 'tag';
                tag.innerHTML = `${text} <i class="fas fa-times"></i>`;
                
                tag.querySelector('i').addEventListener('click', function() {
                    benefitsContainer.removeChild(tag);
                });
                
                benefitsContainer.appendChild(tag);
            }
            
            // Gestion des sections conditionnelles
            const hasJobRadios = document.querySelectorAll('input[name="has-job"]');
            const jobDetailsSection = document.getElementById('job-details-section');
            
            hasJobRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'yes') {
                        jobDetailsSection.classList.add('visible');
                    } else {
                        jobDetailsSection.classList.remove('visible');
                    }
                });
            });
            
            const canHandleNoticeRadios = document.querySelectorAll('input[name="can-handle-notice"]');
            const noticePeriodSection = document.getElementById('notice-period-section');
            
            canHandleNoticeRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'yes') {
                        noticePeriodSection.classList.add('visible');
                    } else {
                        noticePeriodSection.classList.remove('visible');
                    }
                });
            });
            
            const sectorKnowledgeRadios = document.querySelectorAll('input[name="sector-knowledge"]');
            const sectorSelectSection = document.getElementById('sector-select-section');
            
            sectorKnowledgeRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'yes') {
                        sectorSelectSection.classList.add('visible');
                    } else {
                        sectorSelectSection.classList.remove('visible');
                    }
                });
            });
            
            // Génération de présentation à partir du site web
            const generatePresentationButton = document.getElementById('generate-presentation');
            const generatedPresentation = document.getElementById('generated-presentation');
            const companyWebsite = document.getElementById('company-website');
            const companyPresentation = document.getElementById('company-presentation');
            
            generatePresentationButton.addEventListener('click', function() {
                if (!companyWebsite.value) {
                    showNotification("Veuillez d'abord saisir l'URL de votre site web", "error");
                    return;
                }
                
                // Simuler le chargement
                this.disabled = true;
                this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Génération en cours...';
                
                // Simuler un délai d'API
                setTimeout(() => {
                    // Exemple de texte généré
                    const exampleText = `${companyWebsite.value.replace('https://', '').replace('www.', '').split('/')[0]} est une entreprise innovante spécialisée dans [secteur]. Fondée en [année], l'entreprise s'est rapidement développée pour devenir un acteur majeur dans son domaine. Notre mission est de [mission] grâce à des solutions performantes et adaptées aux besoins de nos clients.`;
                    
                    // Mettre à jour le contenu généré
                    generatedPresentation.innerHTML = `<p>${exampleText}</p>`;
                    generatedPresentation.classList.add('visible');
                    
                    // Mettre également le texte dans le textarea
                    companyPresentation.value = exampleText;
                    
                    // Réinitialiser le bouton
                    this.disabled = false;
                    this.innerHTML = '<i class="fas fa-magic"></i> Générer à partir du site web';
                    
                    showNotification("Présentation générée avec succès !", "success");
                }, 1500);
            });
            
            // Gestion du formulaire
            const form = document.getElementById('client-questionnaire-form');
            const confirmationEmail = document.getElementById('confirmation-email');
            const confirmationMessage = document.querySelector('.confirmation-message');
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validation basique des champs obligatoires
                const requiredFields = [
                    document.getElementById('contact-name'),
                    document.getElementById('contact-email')
                ];
                
                const emptyFields = requiredFields.filter(field => !field.value);
                
                if (emptyFields.length > 0) {
                    showNotification("Veuillez remplir tous les champs obligatoires", "error");
                    highlightEmptyFields(emptyFields);
                    return;
                }
                
                // Afficher le message de confirmation avec l'email
                confirmationEmail.textContent = document.getElementById('contact-email').value;
                
                // Naviguer vers l'étape de confirmation
                navigateToStep(5);
                confirmationMessage.style.display = 'block';
            });
            
            // Fonction pour afficher des notifications
            window.showNotification = function(message, type = 'success') {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                
                let icon = '';
                switch (type) {
                    case 'success':
                        icon = '<i class="fas fa-check-circle"></i>';
                        break;
                    case 'error':
                        icon = '<i class="fas fa-exclamation-circle"></i>';
                        break;
                    case 'info':
                        icon = '<i class="fas fa-info-circle"></i>';
                        break;
                }
                
                notification.innerHTML = `${icon}<div>${message}</div>`;
                document.body.appendChild(notification);
                
                setTimeout(() => notification.classList.add('show'), 10);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => document.body.removeChild(notification), 300);
                }, 5000);
            };
        });
    </script>
</body>
</html>