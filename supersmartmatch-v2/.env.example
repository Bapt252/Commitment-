# SuperSmartMatch V2 - Configuration Environment
# ==================================================

# === SERVICE CONFIGURATION ===
PORT=5070
DEBUG=false
LOG_LEVEL=INFO
ENVIRONMENT=development

# === CORS CONFIGURATION ===
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080", "http://localhost:5173"]

# === EXTERNAL SERVICES ===
# Nexten Matcher Service (ML avancé)
NEXTEN_MATCHER_URL=http://matching-api:5052
NEXTEN_MATCHER_TIMEOUT=30
NEXTEN_MATCHER_RETRIES=3

# SuperSmartMatch V1 Service (4 algorithmes)
SUPERSMARTMATCH_V1_URL=http://supersmartmatch-service:5062
SUPERSMARTMATCH_V1_TIMEOUT=30
SUPERSMARTMATCH_V1_RETRIES=3

# === REDIS CONFIGURATION ===
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_CONNECTIONS=20

# === CACHE CONFIGURATION ===
CACHE_TTL=3600
CACHE_ENABLED=true
CACHE_PREFIX=supersmartmatch_v2

# === CIRCUIT BREAKER CONFIGURATION ===
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_EXPECTED_EXCEPTION=RequestException
CIRCUIT_BREAKER_HALF_OPEN_MAX_CALLS=3

# === MONITORING CONFIGURATION ===
MONITORING_ENABLED=true
METRICS_RETENTION_HOURS=24
METRICS_CLEANUP_INTERVAL=3600
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# === ALGORITHM SELECTION CONFIGURATION ===
# Seuils pour sélection automatique d'algorithme
NEXTEN_THRESHOLD_SCORE=80
SMART_MATCH_GEO_PRIORITY=true
ENHANCED_SENIOR_AGE_THRESHOLD=35
SEMANTIC_COMPLEXITY_THRESHOLD=5

# === PERFORMANCE TUNING ===
MAX_WORKERS=4
KEEP_ALIVE_TIMEOUT=5
GRACEFUL_TIMEOUT=30
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=50

# === SECURITY ===
API_KEY_ENABLED=false
API_KEY_HEADER=X-API-Key
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100

# === LOGGING CONFIGURATION ===
LOG_FORMAT=json
LOG_FILE=/app/logs/supersmartmatch-v2.log
LOG_ROTATION=true
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5

# === HEALTH CHECK CONFIGURATION ===
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_RETRIES=3

# === DATABASE CONFIGURATION (si nécessaire) ===
DATABASE_URL=postgresql://user:password@postgres:5432/supersmartmatch_v2
DATABASE_POOL_SIZE=10
DATABASE_OVERFLOW=20

# === SENTRY CONFIGURATION (optionnel) ===
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# === FEATURE FLAGS ===
FEATURE_NEXTEN_INTEGRATION=true
FEATURE_SMART_CACHE=true
FEATURE_ADVANCED_METRICS=true
FEATURE_ML_SELECTION=false

# === ALGORITHM WEIGHTS (pour fine-tuning) ===
WEIGHT_NEXTEN=1.0
WEIGHT_SMART_MATCH=0.9
WEIGHT_ENHANCED=0.8
WEIGHT_SEMANTIC=0.7
WEIGHT_BASIC=0.5

# === TESTING CONFIGURATION ===
TEST_MODE=false
MOCK_EXTERNAL_SERVICES=false
TEST_DATA_PATH=/app/tests/data
